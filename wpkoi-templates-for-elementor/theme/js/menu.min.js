(()=>{var e=document.querySelectorAll(".main-nav .sub-menu, .main-nav .children");if(e&&e.forEach(function(e){var t,s=e.closest("li"),n=s.querySelector('.dropdown-menu-toggle[role="button"]');e.id||(t=s.id||"menu-item-"+Math.floor(1e5*Math.random()),e.id=t+"-sub-menu"),(n=n||s.querySelector('a[role="button"]'))&&n.setAttribute("aria-controls",e.id)}),"querySelector"in document&&"addEventListener"in window){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(document.documentElement.contains(this))do if(t.matches(e))return t;while(null!==(t=t.parentElement));return null});var t=function(e){return Array.prototype.filter.call(e.parentNode.children,function(t){return t!==e})},s=document.querySelectorAll(".menu-toggle"),n=document.querySelectorAll("nav .dropdown-menu-toggle"),o=document.querySelectorAll("nav .main-nav ul a"),r=document.querySelector(".mobile-menu-control-wrapper"),i=document.body,a=document.documentElement,l=function(e){if(e&&i.classList.contains("dropdown-hover")){var t=e.querySelectorAll("li.menu-item-has-children");for(h=0;h<t.length;h++)t[h].querySelector(".dropdown-menu-toggle").removeAttribute("tabindex"),t[h].querySelector(".dropdown-menu-toggle").setAttribute("role","presentation"),t[h].querySelector(".dropdown-menu-toggle").removeAttribute("aria-expanded"),t[h].querySelector(".dropdown-menu-toggle").removeAttribute("aria-controls"),t[h].querySelector(".dropdown-menu-toggle").removeAttribute("aria-label")}},c=function(e){"false"!==e.getAttribute("aria-expanded")&&e.getAttribute("aria-expanded")?(e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label",wpkoiMenu.openSubMenuLabel)):(e.setAttribute("aria-expanded","true"),e.setAttribute("aria-label",wpkoiMenu.closeSubMenuLabel))},d=function(e,t){var s="";if(s=(t=t||this).getAttribute("data-nav")?document.getElementById(t.getAttribute("data-nav")):document.getElementById(t.closest("nav").getAttribute("id"))){var n=!1,o=(t.closest(".mobile-menu-control-wrapper")&&(n=!0),s.getElementsByTagName("ul")[0]);if(s.classList.contains("toggled"))s.classList.remove("toggled"),a.classList.remove("mobile-menu-open"),o&&o.setAttribute("aria-hidden","true"),t.setAttribute("aria-expanded","false"),(n||r&&s.classList.contains("main-navigation"))&&r.classList.remove("toggled"),l(o);else if(s.classList.add("toggled"),a.classList.add("mobile-menu-open"),o&&o.setAttribute("aria-hidden","false"),t.setAttribute("aria-expanded","true"),n?(r.classList.add("toggled"),r.querySelector(".search-item")&&r.querySelector(".search-item").classList.contains("active")&&r.querySelector(".search-item").click()):r&&s.classList.contains("main-navigation")&&r.classList.add("toggled"),(t=o)&&i.classList.contains("dropdown-hover")){var c=t.querySelectorAll("li.menu-item-has-children");for(h=0;h<c.length;h++){var d=c[h].querySelector(".dropdown-menu-toggle"),u=d.closest("li").querySelector(".sub-menu, .children");d.setAttribute("tabindex","0"),d.setAttribute("role","button"),d.setAttribute("aria-expanded","false"),d.setAttribute("aria-controls",u.id),d.setAttribute("aria-label",wpkoiMenu.openSubMenuLabel)}}}};for(h=0;h<s.length;h++)s[h].addEventListener("click",d,!1);var u=function(e,s){if(((s=s||this).closest("nav").classList.contains("toggled")||a.classList.contains("slide-opened"))&&!i.classList.contains("dropdown-click")){e.preventDefault();var n,s=s.closest("li");if(c(s.querySelector(".dropdown-menu-toggle")),n=s.querySelector(".sub-menu")?s.querySelector(".sub-menu"):s.querySelector(".children"),wpkoiMenu.toggleOpenedSubMenus){var o=t(s);for(h=0;h<o.length;h++)o[h].classList.contains("sfHover")&&(o[h].classList.remove("sfHover"),o[h].querySelector(".toggled-on").classList.remove("toggled-on"),c(o[h].querySelector(".dropdown-menu-toggle")))}s.classList.toggle("sfHover"),n.classList.toggle("toggled-on")}e.stopPropagation()};for(h=0;h<n.length;h++)n[h].addEventListener("click",u,!1),n[h].addEventListener("keypress",function(e){"Enter"!==e.key&&" "!==e.key||u(e,this)},!1);if(e=function(){},window.addEventListener("resize",e,!1),window.addEventListener("orientationchange",e,!1),i.classList.contains("dropdown-hover"))for(h=0;h<o.length;h++)o[h].addEventListener("click",function(e){var t;this.hostname!==window.location.hostname&&document.activeElement.blur(),(this.closest("nav").classList.contains("toggled")||a.classList.contains("slide-opened"))&&("#"===(t=this.getAttribute("href"))||""===t)&&(e.preventDefault(),(t=this.closest("li")).classList.toggle("sfHover"),e=t.querySelector(".sub-menu"))&&e.classList.toggle("toggled-on")},!1);if(i.classList.contains("dropdown-hover")){for(var g=document.querySelectorAll(".menu-bar-items .menu-bar-item > a"),m=function(){if(!this.closest("nav").classList.contains("toggled")&&!this.closest("nav").classList.contains("slideout-navigation"))for(var e=this;-1===e.className.indexOf("main-nav");)"li"===e.tagName.toLowerCase()&&e.classList.toggle("sfHover"),e=e.parentElement},v=function(){if(!this.closest("nav").classList.contains("toggled")&&!this.closest("nav").classList.contains("slideout-navigation"))for(var e=this;-1===e.className.indexOf("menu-bar-items");)e.classList.contains("menu-bar-item")&&e.classList.toggle("sfHover"),e=e.parentElement},h=0;h<o.length;h++)o[h].addEventListener("focus",m),o[h].addEventListener("blur",m);for(h=0;h<g.length;h++)g[h].addEventListener("focus",v),g[h].addEventListener("blur",v)}if("ontouchend"in document.documentElement&&document.body.classList.contains("dropdown-hover")){var f=document.querySelectorAll(".sf-menu .menu-item-has-children");for(h=0;h<f.length;h++)f[h].addEventListener("touchend",function(e){if(!(this.closest("nav").classList.contains("toggled")||1!==e.touches.length&&0!==e.touches.length||(e.stopPropagation(),this.classList.contains("sfHover")))){(e.target===this||e.target.parentNode===this||e.target.parentNode.parentNode)&&e.preventDefault();var e=this.closest("li"),s=t(e);for(h=0;h<s.length;h++)s[h].classList.contains("sfHover")&&s[h].classList.remove("sfHover");this.classList.add("sfHover");var n,o=this;document.addEventListener("touchend",n=function(e){e.stopPropagation(),o.classList.remove("sfHover"),document.removeEventListener("touchend",n)})}})}}})();